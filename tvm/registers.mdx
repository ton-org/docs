---
title: "Registers"
description: "TVM registers hold special values, such as contract storage, list of output actions, or exception handler"
---

## `c0` — return continuation

**Type**: Continuation

**Initial value**: `Quit` — extraordinary continuation which terminates TVM with exit code `0`.

When [RET](./instructions#db30-ret) called or current continuation remains no instructions (_implicit ret_), `c0` is invoked. Call-like instructions use it to store current continuation in order to return to it after executing inner function.

## `c1` — alternative return continuation

**Type**: Continuation

**Initial value**: `Quit` — extraordinary continuation which terminates TVM with exit code `1`. Both exit codes `0` and `1` are considered successful terminations of TVM.

Same as `c0`, but invoked only in special control flow instructions, such as [RETALT](./instructions#db31-retalt), [IFRETALT](./instructions#e308-ifretalt) and other.

## `c2` — exception handler

**Type**: Continuation

**Initial value**: `ExcQuit` — extraordinary continuation which terminates TVM with an exception. In this case, exit code is an exception number.

Invoked implicitly on any exception occurred during TVM execution. Can be invoked explicitly by [THROW](./instructions#f2c4_-throw)-like instructions. To set a custom exception handler, use [TRY](./instructions#f2ff-try).

## `c3` — function selector

**Type**: Continuation

**Initial value**: Root cell of code currently executing in TVM.

Invoked by [CALLDICT](./instructions#f0-calldict) instruction with a function id (integer) passed on stack. Function selector should jump on a function with that id.

Fift-ASM assembler constructs following function selector ([Asm.fif:1624](https://github.com/ton-blockchain/ton/blob/4ebd7412c52248360464c2df5f434c8aaa3edfe1/crypto/fift/lib/Asm.fif#L1624)):
```fift Fift
SETCP0
<{
    // a dictionary which maps 19-bit function id (integer) => function code (slice)
}> DICTPUSHCONST
DICTIGETJMPZ  // get a function with given id from dictionary and execute it
11 THROWARG  // if no function found, throw with exit code 11 and function id as additional argument
```

## `c4` — persistent account storage

**Type**: Cell

**Initial value**: Root cell of account data.

The only way to store some information between smart contract invocations is to use `c4`. When transaction succeeds, final value of `c4` is saved as a new account data.

## `c5` — outbound actions accumulator

**Type**: Cell

**Initial value**: Empty cell.

List of actions to perform in action phase after TVM execution: send message, reserve funds, update code, install libraries. 

`c5` has an `OutList` structure:
```tlb TLB
out_list_empty$_ = OutList 0;
out_list$_ {n:#} prev:^(OutList n) action:OutAction = OutList (n + 1);
action_send_msg#0ec3c86d mode:(## 8) out_msg:^(MessageRelaxed Any) = OutAction;
action_set_code#ad4de08e new_code:^Cell = OutAction;
action_reserve_currency#36e6b809 mode:(## 8) currency:CurrencyCollection = OutAction;
libref_hash$0 lib_hash:bits256 = LibRef;
libref_ref$1 library:^Cell = LibRef;
action_change_library#26fa1dd4 mode:(## 7) libref:LibRef = OutAction;
```

The previous action is always the first reference of the next one. If action itself has a reference, it is stored as the second reference in the list. At the beginning of the list, empty cell is stored as the first reference of the first action.

## `c7` — environment information and global variables

**Type**: Tuple

**Initial value**: `Tuple[Tuple[0x076ef1ea, 0, 0, ...]]`.

Zero element of `c7` tuple is an environment information (which itself is also a tuple). Remaining 255 slots are used for global variables. [[i] SETGLOB](./instructions#f87_-setglob) modifies `c7`, inserting an element with index `i`, [[i] GETGLOB](./instructions#f85_-getglob) reads `i`-th element from `c7`.

### Structure of environment information tuple
| # | Instruction | Field | Type | Description |
| --- | --- | --- | --- | --- |
| 0 | - | 0x076ef1ea | integer | tag of `SmartContractInfo` TLB structure
| 1 | - | actions count | integer | increments when new action is pushed to `c5`.
| 2 | - | messages sent | integer| increments when new `action_send_msg` is pushed to `c5`
| 3 | NOW | unix time | integer | current time (timestamp of block collation)
| 4 | BLOCKLT | current block LT (logical time) | integer | 
| 5 | LTIME | current transaction LT | integer |
| 6 | RANDSEED | random seed | integer | `sha256(block_rand_seed . account_address)`
| 7 | BALANCE | smart contract balance | tuple | tuple of integer (TON balance) and cell/null (extra currencies dictionary)
| 8 | MYADDR | smart contract address | slice |
| 9 | CONFIGROOT | global blockchain configuration | cell/null (dictionary) |
| 10 | MYCODE | smart contract code | cell |
| 11 | INCOMINGVALUE | value of incoming message | tuple | tuple of integer (TON value) and cell/null (extra currencies dictionary)
| 12 | STORAGEFEES | fees collected during storage phase | integer |
| 13 | PREVBLOCKSINFOTUPLE, PREVMCBLOCKS_100 | last 16 masterchain blocks, last keyblock, and last 16 masterchain blocks with seqno divisible by 100 | tuple | tuple has following `PrevBlocksInfo` structure: <pre>[ wc:Integer shard:Integer seqno:Integer<br/> root_hash:Integer file_hash:Integer ]<br /> = BlockId;<br />&nbsp;<br />[ last_mc_blocks:BlockId[]<br />  prev_key_block:BlockId<br />  last_mc_blocks_divisible_by_100:BlockId[] ]<br /> = PrevBlocksInfo;</pre>
| 14 | UNPACKEDCONFIGTUPLE | unpacked config values | tuple | <ul><li>**0**: `StoragePrices` from `ConfigParam 18`. Not the whole dict, but only the one StoragePrices entry (one which corresponds to the current time)</li><li>**1**: `ConfigParam 19` (global id)</li><li>**2**: `ConfigParam 20` (mc gas prices)</li><li>**3**: `ConfigParam 21` (gas prices)</li><li>**4**: `ConfigParam 24` (mc fwd fees)</li><li>**5**: `ConfigParam 25` (fwd fees)</li><li>**6**: `ConfigParam 43` (size limits)</li></ul>
| 15 | DUEPAYMENT | current debt for storage fee (nanotons) | integer | 
| 16 | GETPRECOMPILEDGAS | gas usage for the current contract if it is precompiled, `null` otherwise | integer/null | see `ConfigParam 45`
| 17 | INMSGPARAMS | inbound message parameters | tuple | <ul><li>**0**: `bounce` (boolean)</li><li>**1**: `bounced` (boolean)</li><li>**2**: `src_addr` (slice)</li><li>**3**: `fwd_fee` (int)</li><li>**4**: `created_lt` (int)</li><li>**5**: `created_at` (int)</li><li>**6**: `orig_value` (int) - this is sometimes different from the value in `INCOMINGVALUE` and TVM stack because of storage fees</li><li>**8**: `value` (int) - same as in `INCOMINGVALUE` and TVM stack</li><li>**9**: `value_extra` (cell or null) - same as in `INCOMINGVALUE`</li><li>**10**: `state_init` (cell or null)</li></ul>For external messages, tick-tock transactions and get methods: `bounce`, `bounced`, `fwd_fee`, `created_lt`, `created_at`, `orig_value`, `value` are 0, `value_extra` is null.<br /><br />For tick-tock transactions and get methods: `src_addr` is `addr_none`.

