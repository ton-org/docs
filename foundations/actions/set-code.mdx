---
title: "Set code"
---

Setting a code is one of the actions that a smart contract can perform during the [action phase](/foundations/phases#action-phase). It can get into the [out action list](https://github.com/ton-blockchain/ton/blob/5c0349110bb03dd3a241689f2ab334ae1a554ffb/crypto/block/block.tlb#L411) by:

- The [`SETCODE`](/tvm/instructions#fb04-setcode) instruction.
- The [`POPCTR`](/tvm/instructions#ed5-popctr) instruction.

The set code action consists of a cell containing the new code of a smart contract.

If there are several such actions in the action phase, the smart contract code, upon successful completion of the action phase, will be changed to the one specified in the last one. If the action phase fails, the code change will not be applied, even if the set code action was processed successfully.

The only error that can happen when processing a set code action is that the action cell does not match the expected TL-B scheme.

## Serialization

```tlb
action_set_code#ad4de08e new_code:^Cell = OutAction;
```
