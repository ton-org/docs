---
title: "Transactions overview"
---

A transaction is a record that stores the state changes of a contract. A contract's state cannot be changed without a transaction. Transaction is the structure of the following type:

```tl-b
    transaction$0111
    account_addr:bits256
    lt:uint64
    prev_trans_hash:bits256
    prev_trans_lt:uint64
    now:uint32
    outmsg_cnt:uint15
    orig_status:AccountStatus
    end_status:AccountStatus
    ^[
        in_msg:(Maybe ^(Message Any))
        out_msgs:(HashmapE 15 ^(Message Any))
    ]
    total_fees:CurrencyCollection
    state_update:^(HASH_UPDATE Account)
    description:^TransactionDescr
= Transaction;
```

Transactions reflect the concept of `AccountChain` described in the [TON Blockchain whitepaper](/foundations/whitepapers/tblkch#1-2-1-the-infinite-sharding-paradigm-isp-applied-to-blockchain-block-and-state). Each account state can be interpreted as a state of a separate blockchain. So transactions have a very specific order, which is defined by the `prev_trans_hash` field. Thanks to consensus of TON blockchain, transactions get finalized with the fist masterchain block that references them, by storing the hash of `ShardChain` state, that stores the hash of `AccountChain` state.

As transactions form `AccountChain`, each transaction has a logical timestamp, `lt`, that is strictly increasing with each new transaction of the account. The `now` field stores the unix time of the moment when the transaction was created.

The other interesting field is `state_update`, which is a [Merkle update](/foundations/serialization/merkle-update), that stores the difference between the previous and the current state of the account. The information about [contract status](/foundations/status) before and after the transaction is duplicated, for convenience.

Other fields, such as `in_msg`, `out_msg` and `outmsg_cnt`, are related to the [messages](/foundations/messages/overview) processed and spawned during the transaction. The interesting fact is that the [trace](/foundations/trace) may be initiated by a transaction, not by a message. In this case, the `in_msg` field will be `Nothing`. However, the trace can't continue without a message. Strictly speaking, if the trace contains `n` transactions then it contains at least `n-1` messages. As a result, the trace can't hold more than one non-ordinary transaction, as messages may result only in an [ordinary transaction](/foundations/messages/ordinary-tx).

The `total_fees` field stores the total number of [fees](/foundations/fees) paid by the transaction. What is interesting here is that the fees can possibly be paid in extra-currency, but this is not implemented feature yet.
