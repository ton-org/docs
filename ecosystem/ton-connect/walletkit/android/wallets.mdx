---
title: "How to manage TON wallets with WalletKit on the Android platform"
sidebarTitle: "Manage TON wallets"
---

import { Aside } from '/snippets/aside.jsx';

The SDK provides a comprehensive API for creating, retrieving, and managing wallets. All wallet operations follow a consistent three-step pattern.

<Aside type="tip">
  Initialize the SDK before managing wallets. See the [initialization guide](./init) for details.
</Aside>

## The three-step wallet creation pattern

The SDK uses a three-step pattern for creating wallets, giving you fine-grained control over key management and wallet configuration:

1. **Create a signer** — Generate or import cryptographic keys
2. **Create an adapter** — Configure wallet version and network settings
3. **Add the wallet** — Register the wallet with the SDK

## Creating wallets from mnemonic

Generate a new wallet with a random mnemonic phrase:

```kotlin
// Step 1: Generate mnemonic and create signer
val mnemonic = walletKit.createTonMnemonic() // Returns 24 words
val signer = walletKit.createSignerFromMnemonic(mnemonic)

// Step 2: Create adapter (V5R1 recommended for new wallets)
val adapter = walletKit.createV5R1Adapter(
    signer = signer,
    network = TONNetwork.MAINNET
)

// Step 3: Add wallet to the SDK
val wallet = walletKit.addWallet(adapter.adapterId)
```

Import an existing wallet from a mnemonic:

```kotlin
val mnemonic = listOf("word1", "word2", /* ... 24 words ... */)
val signer = walletKit.createSignerFromMnemonic(mnemonic)
val adapter = walletKit.createV5R1Adapter(signer, TONNetwork.MAINNET)
val wallet = walletKit.addWallet(adapter.adapterId)
```

<Aside type="note">
  Always store mnemonic phrases securely using platform-specific encrypted storage. Never store them in plain text.
</Aside>

## Creating wallets from secret key

For advanced use cases where you manage keys externally:

```kotlin
val secretKey = /* 32-byte secret key as ByteArray */
val signer = walletKit.createSignerFromSecretKey(secretKey)
val adapter = walletKit.createV4R2Adapter(signer, TONNetwork.MAINNET)
val wallet = walletKit.addWallet(adapter.adapterId)
```

## Wallet versions

The SDK supports multiple wallet contract versions:

### V5R1 (Recommended)

The latest wallet version with improved features and gas optimization:

```kotlin
val adapter = walletKit.createV5R1Adapter(
    signer = signer,
    network = TONNetwork.MAINNET,
    workchain = 0,  // 0 = basechain (default), -1 = masterchain
    walletId = WalletKitConstants.DEFAULT_WALLET_ID_V5R1
)
```

### V4R2 (Compatible)

Widely supported legacy version:

```kotlin
val adapter = walletKit.createV4R2Adapter(
    signer = signer,
    network = TONNetwork.MAINNET,
    workchain = 0,
    walletId = WalletKitConstants.DEFAULT_WALLET_ID_V4R2
)
```

## Retrieving wallets

Get all wallets managed by the SDK:

```kotlin
val wallets = walletKit.getWallets()
for (wallet in wallets) {
    println("Address: ${wallet.address}")
    println("Public key: ${wallet.publicKey}")
}
```

Get a specific wallet by address:

```kotlin
val wallet = walletKit.getWallet("EQD...")
if (wallet != null) {
    val balance = wallet.getBalance()
    println("Balance: $balance nanoTON")
}
```

## Removing wallets

Remove a single wallet:

```kotlin
val removed = walletKit.removeWallet("EQD...")
if (removed) {
    println("Wallet removed successfully")
}
```

Clear all wallets:

```kotlin
walletKit.clearWallets()
```

<Aside type="caution">
  Removing wallets deletes them from SDK storage. Ensure users have backed up their mnemonic phrases before removal.
</Aside>

## Managing multiple wallets

Create multiple wallets from the same mnemonic using different wallet IDs:

```kotlin
val signer = walletKit.createSignerFromMnemonic(mnemonic)

// Create first wallet
val adapter1 = walletKit.createV5R1Adapter(
    signer = signer,
    network = TONNetwork.MAINNET,
    walletId = 0x29A9A317L  // Custom wallet ID
)
val wallet1 = walletKit.addWallet(adapter1.adapterId)

// Create second wallet from same signer
val adapter2 = walletKit.createV5R1Adapter(
    signer = signer,
    network = TONNetwork.MAINNET,
    walletId = 0x29A9A318L  // Different wallet ID
)
val wallet2 = walletKit.addWallet(adapter2.adapterId)
```

## Network configuration

Switch between mainnet and testnet:

```kotlin
// Mainnet wallet
val mainnetAdapter = walletKit.createV5R1Adapter(
    signer = signer,
    network = TONNetwork.MAINNET
)

// Testnet wallet
val testnetAdapter = walletKit.createV5R1Adapter(
    signer = signer,
    network = TONNetwork.TESTNET
)
```

## Best practices

1. **Use V5R1** for new wallets — It's the latest version with optimized gas costs
2. **Secure mnemonic storage** — Use Android's EncryptedSharedPreferences or Keystore
3. **Validate mnemonic input** — Check word count and validity before creating wallets
4. **Handle errors gracefully** — Wallet operations can fail due to network or validation issues
5. **Test on testnet first** — Always test wallet functionality on testnet before mainnet deployment

## Error handling

Wrap wallet operations in try-catch blocks:

```kotlin
try {
    val wallet = walletKit.addWallet(adapter.adapterId)
    println("Wallet created: ${wallet.address}")
} catch (e: WalletKitBridgeException) {
    println("Failed to create wallet: ${e.message}")
}
```

## Next steps

<CardGroup cols={2}>
  <Card title="Handle events" href="./events">
    Learn how to handle connection and transaction requests
  </Card>
  <Card title="Retrieve wallet data" href="./data">
    Get balances, jettons, and NFTs
  </Card>
</CardGroup>