---
title: "Traces"
---

import { Aside } from "/snippets/aside.jsx";
import { Image } from '/snippets/image.jsx';

A trace is a set of messages and transactions produced by a single external message.

Each _i-th_ transaction in the trace is triggered by a message sent during the action phase of some earlier _j-th_ transaction, where _j \< i_.

<div
  className="flex justify-center my-4"
>
  <Image
    src="/resources/images/rpc/trace_def_light.svg"
    darkSrc="/resources/images/rpc/trace_def_dark.svg"
    alt="Trace diagram"
  />
</div>

All messages and transactions in the trace are ordered by their [logical time (lt)](/foundations/whitepapers/tblkch#1-4-1-logical-time), reflecting their logical dependencies. The diagram shows transactions on independent accounts, each triggered by an incoming message, with `lt` values indicated for every message.

<Image
  src="/resources/images/rpc/traces_lt_light.svg"
  darkSrc="/resources/images/rpc/traces_lt_dark.svg"
  alt="Traces with logical time"
/>

<Aside
  type={"note"}
>
  Transactions may be triggered not only by external messages but also by [tick-tock](/foundations/whitepapers/tblkch#4-2-4-kinds-of-transactions) events, commonly used within internal TON Blockchain contracts, such as governance or elector contracts.

  **Example:** [Tick-tock initiated trace](https://tonviewer.com/transaction/c386d3f7cc797aeb4d126a17da9055e47e79a1bce73262e8d665d94636f97bdc).
</Aside>

## Using traces in Tonviewer

In [Tonviewer](https://tonviewer.com/), traces are visualized as **directed acyclic graphs (DAGs)**, where _transactions are nodes_ and _messages are edges_, showing the full sequence of account state changes triggered by a single external message.

### Tracing operations

Traces offer **a high-level** view of an operation, illustrating how multiple transactions and messages interact to produce the final result. Within the graph, related transactions are grouped into human-readable actions, _providing developers with both the low-level transaction flow and the corresponding higher-level operations_.

**Example**

The NFT transfer illustrates a single operation that consists of **three transactions**, each triggered by messages. To learn how to read traces, follow [this article](/ecosystem/explorers/tonviewer#steps-to-analyze-an-operation).

<Image
  src="/resources/images/rpc/nft_transfer_trace_light.png"
  darkSrc="/resources/images/rpc/nft_transfer_trace_dark.png"
  alt="NFT transfer trace"
/>

## High-level access using API

To fetch transaction data, use the high-level [`GET /traces`](/ecosystem/rpc/toncenter/v3/actions-and-traces/list-actions-by-filters-tx-msg-trace) endpoint.
This method allows you to retrieve all related transactions for a given operation, without parsing individual transactions.
