## MyTonCtrl command library

MyTonCtrl exposes a modular CLI that bundles day-to-day node maintenance, staking workflows, and operational tooling. Use this overview to decide which command reference you need for a specific task.

## Install MyTonCtrl

Run the installer as the non-root operator who will manage the node. The command below fetches dependencies, downloads the script, and starts the interactive setup wizard:

```bash
sudo apt update
sudo apt install -y curl wget git ca-certificates python3-pip
wget https://raw.githubusercontent.com/ton-blockchain/mytonctrl/master/scripts/install.sh
sudo bash install.sh -d
```

The wizard walks you through hardware validation, TON binary installs, and MyTonCtrl configuration. Use flags to pre-select options or automate deployments:

| Flag | What it does | Typical use |
| --- | --- | --- |
| `-d` | Downloads a packaged blockchain dump before first start. | Speed up the initial sync (omit if you prefer to sync from peers only).
| `-m validator`, `-m liteserver` | Pre-enables the target mode. | Skip switching modes manually after install.
| `-n mainnet`, `-n testnet` | Switches global config URL and minimum hardware thresholds. | Point the node to testnet without editing configs later.
| `-t` | Disables telemetry uploads during install. | Comply with policies that forbid sharing validator stats.
| `-i` | Ignores the CPU/RAM minimum check. | Lab hardware or cloud instances that fall below defaults.
| `-c <PATH>` | Supplies a custom `config.json` for TON installer steps. | Use a vetted mirror instead of the default URL.
| `-v <VERSION>` | Pins the TON node to a branch, tag, or commit. | Lock to a specific release when validating upgrades.
| `-u <USER>` | Forces the operator account that owns MyTonCtrl. | Keep ownership correct when running the script from automation.
| `-a <AUTHOR>`, `-r <REPO>`, `-b <BRANCH>` | Override the Git source for MyTonCtrl and installer scripts. | Test forks or feature branches.
| `-p <FILE>` | Restore from a MyTonCtrl backup archive. | Reinstall on fresh hardware using an existing backup.
| `-o` | Install only MyTonCtrl assets (requires `-p`). | Recover the console without touching TON binaries.
| `-l` | Install only the TON node binaries and services. | Pair a fresh node with an already configured MyTonCtrl.
| `-h` | Prints installer help and exits. | Basic check of available options.

Leaving out `-m` and `-p` keeps you in the interactive CLI (`install.py`), which prompts for network selection, telemetry, and mode enablement.

### Environment variables

Set these variables before running `install.sh` (for example `ARCHIVE_TTL=864000 sudo bash install.sh -d`) to preconfigure node behavior:

| Variable | Effect | Notes |
| --- | --- | --- |
| `ARCHIVE_TTL` | Overrides the retention (in seconds) passed to `--archive-ttl`. | Defaults to `2592000` for liteserver mode and `86400` otherwise; set `-1` for effectively permanent retention. |
| `STATE_TTL` | Sets `--state-ttl` and shortens the archive TTL by the same amount. | Use with `ARCHIVE_TTL` to keep a smaller state cache. |
| `ADD_SHARD` | Adds one or more `--add-shard` arguments. | Provide shard IDs separated by spaces (for example `0:2000000000000000 0:a000000000000000`). |
| `ARCHIVE_BLOCKS` | Downloads archive data via TON Storage during bootstrap. | Accepts a single block/UTC date or a range (`<from> <to>`); dates must be `YYYY-MM-DD`. |
| `COLLATE_SHARD` | Configures collator shards during `collator` mode installs. | Space-separated shard IDs; defaults to `0:8000000000000000` if unset. |

## Operational notes
- All guides assume you are running the interactive `mytonctrl` console on a node where the relevant mode is enabled (`enable_mode <mode_name>`).
- Many commands trigger privileged scripts (systemd, file writes, package installs). Run them from an account that can escalate with `sudo` or the original installation user.
- Keep validator wallets, ADNL keys, and configuration backups safe before applying destructive actions (disabling modes, removing Teleport, restoring archives, etc.).

## Command Guide Index
| Guide | What it Covers |
| --- | --- |
| [Core Commands](./core) | Everyday console operations: updating MyTonCtrl, enabling modes, viewing status, and managing settings. |
| [Installer Commands](./installer) | Running the MyTonInstaller module to configure node services, enable components, and adjust node arguments. |
| [Wallet Commands](./wallet) | Creating, importing, exporting, and funding wallets managed by MyTonCtrl. |
| [Validator Commands](./validator) | Election voting, complaint handling, efficiency checks, and collator registry management for validators. |
| [Collator Commands](./collator) | Configuring collator shards, whitelists, and JSON options when operating in collator mode. |
| [Pool Commands](./pools) | Deploying and operating nominator pools or Orbs single-nominator pools. |
| [Liquid Staking Commands](./liquid_staking) | Managing liquid staking controllers, validator-set refreshes, and loan calculations. |
| [Custom Overlay Commands](./custom_overlays) | Adding, listing, and removing custom overlays for validator-console telemetry. |
| [Utilities Commands](./utilities) | Account inspection, bookmark management, governance offer utilities, and validator list reporting. |
| [Alerting Commands](./alerting) | Configuring the MyTonCtrl alert bot, toggling alert keys, and testing notifications. |
| [Backups Commands](./backups) | Creating and restoring configuration backups, including keyring exports. |
| [BTC Teleport Commands](./btc_teleport) | Reviewing Teleport proposals, voting, and uninstalling the Teleport bundle. |

## Picking the Right Guide
- **Provisioning a new node?** Start with [Setup MyTonCtrl](../setup-mytonctrl) and then use the [Core](./core) and [Installer](./installer) references for ongoing maintenance.
- **Operating pools or liquid staking?** Combine the [Pools](./pools) or [Liquid Staking](./liquid_staking) guides with the relevant validator or wallet sections.
- **Keeping eyes on production nodes?** Review [Alerting](./alerting), [Backups](./backups), and [Utilities](./utilities) so you can monitor and recover your infrastructure quickly.

## Related Resources
- [Setup MyTonCtrl](../setup-mytonctrl)
- [Baseline install & sync checklist](../setup-mytonctrl#baseline-setup-install-and-sync)
- [Official MyTonCtrl repository](https://github.com/ton-blockchain/mytonctrl)
